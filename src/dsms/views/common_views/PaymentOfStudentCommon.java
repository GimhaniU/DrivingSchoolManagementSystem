/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package dsms.views.common_views;

import dsms.common_classes.ComboItemsAdder;
import dsms.common_classes.PatternsChecker;
import dsms.common_classes.ReportConnector;
import dsms.controllers.*;
import dsms.models.*;
import dsms.views.StudentRegistration;
import dsms.views.report_dialogs.RegistrationBasedReportDialog;
import java.awt.event.KeyEvent;
import java.io.InputStream;
import java.sql.SQLException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;
import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.view.JasperViewer;

/**
 *
 * @author User
 */
public class PaymentOfStudentCommon extends javax.swing.JInternalFrame {

    String studentId, registrationId;
    JFrame parent;
    DefaultTableModel dtmView, dtmEdit;
    Double paidTotal = 0.00, totalFee = 0.00, discount = 0.00, balanceToPay = 0.00;
    int enterPress = 0, disPress = 0;

    /**
     * Creates new form PaymentOfStudent
     */
    public PaymentOfStudentCommon(JFrame parent) {
        try {
            initComponents();
            this.parent = parent;
setTitle("Payments");
            ComboItemsAdder.addAllStudentIDTraining(studentIdCombo);

            ///////////////////new payment////////////////////////////
            CodeGenerateController.getNextID(payIdText, "P", "paymentId", "Payment");
            SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
            dateText.setText(sdf.format(new Date()));
            todayPaymentText.requestFocus();
            ////////////////////view all payments///////////////////
            dtmView = (DefaultTableModel) viewAllPaymentTable.getModel();
            setDataToTable(viewAllPaymentTable, dtmView);
            // ComboItemsAdder.addAllRegistrationsOfAStudent(ridCombo, studentId);
            enterViewSummary();

           
        } catch (SQLException | ClassNotFoundException ex) {
            Logger.getLogger(PaymentOfStudentCommon.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
public void requestFocusForm(){
    todayPaymentText.requestFocus();
}
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jPanel4 = new javax.swing.JPanel();
        idLabel = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        nameText = new javax.swing.JTextField();
        studentIdCombo = new javax.swing.JComboBox();
        jLabel5 = new javax.swing.JLabel();
        ridCombo = new javax.swing.JComboBox();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel2 = new javax.swing.JPanel();
        jPanel5 = new javax.swing.JPanel();
        payIdLabel = new javax.swing.JLabel();
        payIdText = new javax.swing.JTextField();
        dateLabel = new javax.swing.JLabel();
        dateText = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        payCombo = new javax.swing.JComboBox();
        feePanel = new javax.swing.JPanel();
        totalFeeLabel = new javax.swing.JLabel();
        totalFeeText = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        discountText = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        todayPaymentText = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        paidTotalText = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        balanceToPayText = new javax.swing.JTextField();
        jPanel8 = new javax.swing.JPanel();
        saveButton = new javax.swing.JButton();
        otherFeePanel = new javax.swing.JPanel();
        jLabel25 = new javax.swing.JLabel();
        attemptText = new javax.swing.JTextField();
        jLabel26 = new javax.swing.JLabel();
        attemptFeeText = new javax.swing.JTextField();
        messagePanel = new javax.swing.JPanel();
        messageLabel = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        viewAllPaymentTable = new javax.swing.JTable();
        jPanel9 = new javax.swing.JPanel();
        totalFeeLabel1 = new javax.swing.JLabel();
        totalFeeTextV = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        discountTextV = new javax.swing.JTextField();
        jLabel17 = new javax.swing.JLabel();
        paidTotalTextV = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        balanceToPayTextV = new javax.swing.JTextField();
        printButton = new javax.swing.JButton();
        jPanel15 = new javax.swing.JPanel();
        exitButton1 = new javax.swing.JButton();
        jInternalFrame1 = new javax.swing.JInternalFrame();
        jPanel7 = new javax.swing.JPanel();
        jPanel12 = new javax.swing.JPanel();
        idLabel1 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        nameText1 = new javax.swing.JTextField();
        studentIdCombo1 = new javax.swing.JComboBox();
        jTabbedPane2 = new javax.swing.JTabbedPane();
        jPanel13 = new javax.swing.JPanel();
        jPanel14 = new javax.swing.JPanel();
        payIdLabel1 = new javax.swing.JLabel();
        payIdText1 = new javax.swing.JTextField();
        dateLabel1 = new javax.swing.JLabel();
        dateText1 = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        payCombo1 = new javax.swing.JComboBox();
        feePanel1 = new javax.swing.JPanel();
        totalFeeLabel2 = new javax.swing.JLabel();
        totalFeeText1 = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        discountText1 = new javax.swing.JTextField();
        jLabel12 = new javax.swing.JLabel();
        todayPaymentText1 = new javax.swing.JTextField();
        jLabel14 = new javax.swing.JLabel();
        paidTotalText1 = new javax.swing.JTextField();
        jLabel15 = new javax.swing.JLabel();
        balanceToPayText1 = new javax.swing.JTextField();
        jPanel16 = new javax.swing.JPanel();
        saveButton1 = new javax.swing.JButton();
        otherFeePanel1 = new javax.swing.JPanel();
        jLabel29 = new javax.swing.JLabel();
        attemptText1 = new javax.swing.JTextField();
        jLabel30 = new javax.swing.JLabel();
        attemptFeeText1 = new javax.swing.JTextField();
        messagePanel1 = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        jPanel17 = new javax.swing.JPanel();
        jScrollPane3 = new javax.swing.JScrollPane();
        viewAllPaymentTable1 = new javax.swing.JTable();
        jPanel18 = new javax.swing.JPanel();
        totalFeeLabel4 = new javax.swing.JLabel();
        totalFeeTextV1 = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        discountTextV1 = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        paidTotalTextV1 = new javax.swing.JTextField();
        jLabel21 = new javax.swing.JLabel();
        balanceToPayTextV1 = new javax.swing.JTextField();
        jPanel19 = new javax.swing.JPanel();
        jScrollPane4 = new javax.swing.JScrollPane();
        editPaymentTable1 = new javax.swing.JTable();
        jPanel20 = new javax.swing.JPanel();
        totalFeeLabel5 = new javax.swing.JLabel();
        totalFeeTextE1 = new javax.swing.JTextField();
        jLabel22 = new javax.swing.JLabel();
        discountTextE1 = new javax.swing.JTextField();
        jLabel31 = new javax.swing.JLabel();
        paidTotalTextE1 = new javax.swing.JTextField();
        jLabel32 = new javax.swing.JLabel();
        balanceToPayTextE1 = new javax.swing.JTextField();
        jPanel21 = new javax.swing.JPanel();
        editButton1 = new javax.swing.JButton();
        deleteButton1 = new javax.swing.JButton();
        jPanel22 = new javax.swing.JPanel();
        exitButton2 = new javax.swing.JButton();

        jPanel4.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        idLabel.setText("Student ID:");

        jLabel1.setText("Name:");

        nameText.setEditable(false);

        studentIdCombo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                studentIdComboActionPerformed(evt);
            }
        });

        jLabel5.setText("Registration Id:");

        ridCombo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ridComboActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(idLabel)
                    .addComponent(jLabel1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(nameText, javax.swing.GroupLayout.PREFERRED_SIZE, 287, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(studentIdCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(63, 63, 63)
                        .addComponent(jLabel5)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(ridCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(idLabel)
                    .addComponent(studentIdCombo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5)
                    .addComponent(ridCombo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(nameText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jTabbedPane1.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jTabbedPane1.setTabLayoutPolicy(javax.swing.JTabbedPane.SCROLL_TAB_LAYOUT);

        jPanel2.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jPanel5.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        payIdLabel.setText("Payment ID:");

        dateLabel.setText("Date:");

        jLabel2.setText("Payment type:");

        payCombo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Training Fee", "Trial Fee later attempt", "Exam Fee later attempt" }));
        payCombo.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                payComboItemStateChanged(evt);
            }
        });
        payCombo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                payComboActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                        .addComponent(payIdLabel)
                        .addGap(18, 18, 18)
                        .addComponent(payIdText, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(dateLabel)
                        .addGap(26, 26, 26)
                        .addComponent(dateText, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(47, 47, 47))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(jLabel2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(payCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 219, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(payIdLabel)
                    .addComponent(payIdText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dateLabel)
                    .addComponent(dateText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 18, Short.MAX_VALUE)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(payCombo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );

        feePanel.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        feePanel.setEnabled(false);

        totalFeeLabel.setText("Total fee:");

        totalFeeText.setEditable(false);
        totalFeeText.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel3.setText("Discount:");

        discountText.setEditable(false);
        discountText.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel4.setText("Today Payment:");

        todayPaymentText.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        todayPaymentText.setText("0");
        todayPaymentText.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                todayPaymentTextKeyReleased(evt);
            }
        });

        jLabel9.setText("Paid Total:");

        paidTotalText.setEditable(false);
        paidTotalText.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel10.setText("Balance To Pay:");

        balanceToPayText.setEditable(false);
        balanceToPayText.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        javax.swing.GroupLayout feePanelLayout = new javax.swing.GroupLayout(feePanel);
        feePanel.setLayout(feePanelLayout);
        feePanelLayout.setHorizontalGroup(
            feePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(feePanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(feePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(feePanelLayout.createSequentialGroup()
                        .addGroup(feePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(totalFeeLabel)
                            .addComponent(jLabel3)
                            .addComponent(jLabel9)
                            .addComponent(jLabel10))
                        .addGap(35, 35, 35)
                        .addGroup(feePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(balanceToPayText, javax.swing.GroupLayout.DEFAULT_SIZE, 83, Short.MAX_VALUE)
                            .addComponent(totalFeeText, javax.swing.GroupLayout.DEFAULT_SIZE, 83, Short.MAX_VALUE)
                            .addComponent(discountText)
                            .addComponent(paidTotalText)))
                    .addGroup(feePanelLayout.createSequentialGroup()
                        .addComponent(jLabel4)
                        .addGap(33, 33, 33)
                        .addComponent(todayPaymentText, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(158, Short.MAX_VALUE))
        );
        feePanelLayout.setVerticalGroup(
            feePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(feePanelLayout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(feePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(todayPaymentText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(feePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(totalFeeText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(totalFeeLabel))
                .addGap(11, 11, 11)
                .addGroup(feePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3)
                    .addComponent(discountText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(feePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9)
                    .addComponent(paidTotalText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(feePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel10)
                    .addComponent(balanceToPayText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(20, Short.MAX_VALUE))
        );

        jPanel8.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jPanel8.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.RIGHT));

        saveButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/dsms/icons/16x16/Save.png"))); // NOI18N
        saveButton.setText("SAVE");
        saveButton.setEnabled(false);
        saveButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveButtonActionPerformed(evt);
            }
        });
        jPanel8.add(saveButton);

        otherFeePanel.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jLabel25.setText("Attempt:");

        attemptText.setEditable(false);
        attemptText.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel26.setText("Amount:");

        attemptFeeText.setEditable(false);
        attemptFeeText.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        javax.swing.GroupLayout otherFeePanelLayout = new javax.swing.GroupLayout(otherFeePanel);
        otherFeePanel.setLayout(otherFeePanelLayout);
        otherFeePanelLayout.setHorizontalGroup(
            otherFeePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(otherFeePanelLayout.createSequentialGroup()
                .addGap(40, 40, 40)
                .addGroup(otherFeePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(otherFeePanelLayout.createSequentialGroup()
                        .addComponent(jLabel26)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(attemptFeeText))
                    .addGroup(otherFeePanelLayout.createSequentialGroup()
                        .addComponent(jLabel25)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(attemptText, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(128, Short.MAX_VALUE))
        );
        otherFeePanelLayout.setVerticalGroup(
            otherFeePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(otherFeePanelLayout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(otherFeePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel25)
                    .addComponent(attemptText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(otherFeePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel26)
                    .addComponent(attemptFeeText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        messageLabel.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        messageLabel.setText("You can't apply again. Please make a New Registration!");
        messagePanel.add(messageLabel);

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(feePanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(otherFeePanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(0, 12, Short.MAX_VALUE))
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addComponent(messagePanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(feePanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(otherFeePanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(23, 23, 23)
                .addComponent(messagePanel, javax.swing.GroupLayout.DEFAULT_SIZE, 45, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(23, 23, 23))
        );

        jTabbedPane1.addTab("New Payment", new javax.swing.ImageIcon(getClass().getResource("/dsms/icons/32x32/coins_add.png")), jPanel2); // NOI18N

        jPanel3.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        viewAllPaymentTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Payment Id", "Type", "Date", "Amount"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.Double.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        jScrollPane1.setViewportView(viewAllPaymentTable);
        viewAllPaymentTable.getColumnModel().getColumn(0).setPreferredWidth(10);
        viewAllPaymentTable.getColumnModel().getColumn(2).setPreferredWidth(20);
        viewAllPaymentTable.getColumnModel().getColumn(3).setPreferredWidth(20);

        jPanel9.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        totalFeeLabel1.setText("Total fee:");

        totalFeeTextV.setEditable(false);
        totalFeeTextV.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel11.setText("Discount:");

        discountTextV.setEditable(false);
        discountTextV.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel17.setText("Paid Total:");

        paidTotalTextV.setEditable(false);
        paidTotalTextV.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel18.setText("Balance To Pay:");

        balanceToPayTextV.setEditable(false);
        balanceToPayTextV.setForeground(new java.awt.Color(204, 0, 0));
        balanceToPayTextV.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        printButton.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        printButton.setText("Print");
        printButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                printButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(totalFeeLabel1)
                    .addComponent(jLabel11))
                .addGap(36, 36, 36)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(totalFeeTextV, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(discountTextV, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 211, Short.MAX_VALUE)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel18)
                    .addComponent(jLabel17))
                .addGap(18, 18, 18)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addComponent(paidTotalTextV, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(163, 163, 163))
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addComponent(balanceToPayTextV, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(printButton)
                        .addContainerGap())))
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(totalFeeLabel1)
                    .addComponent(totalFeeTextV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(paidTotalTextV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel17))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11)
                    .addComponent(discountTextV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(balanceToPayTextV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel18)
                    .addComponent(printButton))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1)
                    .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGap(37, 37, 37)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 248, Short.MAX_VALUE)
                .addGap(18, 18, 18)
                .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jTabbedPane1.addTab("View All Payments", new javax.swing.ImageIcon(getClass().getResource("/dsms/icons/32x32/account_balances.png")), jPanel3); // NOI18N

        jPanel15.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.RIGHT));

        exitButton1.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        exitButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/dsms/icons/24x24/Cancel.png"))); // NOI18N
        exitButton1.setText("EXIT");
        exitButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                exitButton1ActionPerformed(evt);
            }
        });
        jPanel15.add(exitButton1);

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel15, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jPanel4, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jTabbedPane1, javax.swing.GroupLayout.Alignment.LEADING))
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 441, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel15, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 64, Short.MAX_VALUE))
        );

        jPanel12.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        idLabel1.setText("Student ID:");

        jLabel6.setText("Name:");

        studentIdCombo1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                studentIdCombo1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel12Layout = new javax.swing.GroupLayout(jPanel12);
        jPanel12.setLayout(jPanel12Layout);
        jPanel12Layout.setHorizontalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel12Layout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(idLabel1)
                    .addComponent(jLabel6))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(nameText1, javax.swing.GroupLayout.PREFERRED_SIZE, 287, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(studentIdCombo1, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel12Layout.setVerticalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel12Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(idLabel1)
                    .addComponent(studentIdCombo1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(nameText1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jTabbedPane2.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jTabbedPane2.setTabLayoutPolicy(javax.swing.JTabbedPane.SCROLL_TAB_LAYOUT);

        jPanel13.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jPanel14.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        payIdLabel1.setText("Payment ID:");

        dateLabel1.setText("Date:");

        jLabel7.setText("Payment type:");

        payCombo1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Fee", "Trial Fee later attempt", "Exam Fee later attempt" }));
        payCombo1.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                payCombo1ItemStateChanged(evt);
            }
        });
        payCombo1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                payCombo1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel14Layout = new javax.swing.GroupLayout(jPanel14);
        jPanel14.setLayout(jPanel14Layout);
        jPanel14Layout.setHorizontalGroup(
            jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel14Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel14Layout.createSequentialGroup()
                        .addComponent(payIdLabel1)
                        .addGap(18, 18, 18)
                        .addComponent(payIdText1, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(dateLabel1)
                        .addGap(26, 26, 26)
                        .addComponent(dateText1, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(47, 47, 47))
                    .addGroup(jPanel14Layout.createSequentialGroup()
                        .addComponent(jLabel7)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(payCombo1, javax.swing.GroupLayout.PREFERRED_SIZE, 219, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())))
        );
        jPanel14Layout.setVerticalGroup(
            jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel14Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(payIdLabel1)
                    .addComponent(payIdText1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dateLabel1)
                    .addComponent(dateText1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 18, Short.MAX_VALUE)
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7)
                    .addComponent(payCombo1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );

        feePanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        feePanel1.setEnabled(false);

        totalFeeLabel2.setText("Total fee:");

        totalFeeText1.setEditable(false);
        totalFeeText1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel8.setText("Discount:");

        discountText1.setEditable(false);
        discountText1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel12.setText("Today Payment:");

        todayPaymentText1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        todayPaymentText1.setText("0");
        todayPaymentText1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                todayPaymentText1KeyReleased(evt);
            }
        });

        jLabel14.setText("Paid Total:");

        paidTotalText1.setEditable(false);
        paidTotalText1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel15.setText("Balance To Pay:");

        balanceToPayText1.setEditable(false);
        balanceToPayText1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        javax.swing.GroupLayout feePanel1Layout = new javax.swing.GroupLayout(feePanel1);
        feePanel1.setLayout(feePanel1Layout);
        feePanel1Layout.setHorizontalGroup(
            feePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(feePanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(feePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(feePanel1Layout.createSequentialGroup()
                        .addGroup(feePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(totalFeeLabel2)
                            .addComponent(jLabel8)
                            .addComponent(jLabel14)
                            .addComponent(jLabel15))
                        .addGap(35, 35, 35)
                        .addGroup(feePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(balanceToPayText1, javax.swing.GroupLayout.DEFAULT_SIZE, 83, Short.MAX_VALUE)
                            .addComponent(totalFeeText1, javax.swing.GroupLayout.DEFAULT_SIZE, 83, Short.MAX_VALUE)
                            .addComponent(discountText1)
                            .addComponent(paidTotalText1)))
                    .addGroup(feePanel1Layout.createSequentialGroup()
                        .addComponent(jLabel12)
                        .addGap(33, 33, 33)
                        .addComponent(todayPaymentText1, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(158, Short.MAX_VALUE))
        );
        feePanel1Layout.setVerticalGroup(
            feePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(feePanel1Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(feePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel12)
                    .addComponent(todayPaymentText1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(feePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(totalFeeText1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(totalFeeLabel2))
                .addGap(11, 11, 11)
                .addGroup(feePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel8)
                    .addComponent(discountText1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(feePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel14)
                    .addComponent(paidTotalText1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(feePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel15)
                    .addComponent(balanceToPayText1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(20, Short.MAX_VALUE))
        );

        jPanel16.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.RIGHT));

        saveButton1.setText("SAVE");
        saveButton1.setEnabled(false);
        saveButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveButton1ActionPerformed(evt);
            }
        });
        jPanel16.add(saveButton1);

        otherFeePanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jLabel29.setText("Attempt:");

        attemptText1.setEditable(false);
        attemptText1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel30.setText("Amount:");

        attemptFeeText1.setEditable(false);
        attemptFeeText1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        javax.swing.GroupLayout otherFeePanel1Layout = new javax.swing.GroupLayout(otherFeePanel1);
        otherFeePanel1.setLayout(otherFeePanel1Layout);
        otherFeePanel1Layout.setHorizontalGroup(
            otherFeePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(otherFeePanel1Layout.createSequentialGroup()
                .addGap(40, 40, 40)
                .addGroup(otherFeePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(otherFeePanel1Layout.createSequentialGroup()
                        .addComponent(jLabel30)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(attemptFeeText1))
                    .addGroup(otherFeePanel1Layout.createSequentialGroup()
                        .addComponent(jLabel29)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(attemptText1, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(128, Short.MAX_VALUE))
        );
        otherFeePanel1Layout.setVerticalGroup(
            otherFeePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(otherFeePanel1Layout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(otherFeePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel29)
                    .addComponent(attemptText1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(otherFeePanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel30)
                    .addComponent(attemptFeeText1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jLabel16.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel16.setText("You can't apply again. Please make a New Registration!");
        messagePanel1.add(jLabel16);

        javax.swing.GroupLayout jPanel13Layout = new javax.swing.GroupLayout(jPanel13);
        jPanel13.setLayout(jPanel13Layout);
        jPanel13Layout.setHorizontalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel13Layout.createSequentialGroup()
                        .addComponent(feePanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(otherFeePanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jPanel14, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel13Layout.createSequentialGroup()
                        .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(messagePanel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jPanel16, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addContainerGap())))
        );
        jPanel13Layout.setVerticalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addComponent(jPanel14, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(feePanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(otherFeePanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(messagePanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 65, Short.MAX_VALUE)
                .addGap(18, 18, 18)
                .addComponent(jPanel16, javax.swing.GroupLayout.PREFERRED_SIZE, 49, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jTabbedPane2.addTab("New Payment", jPanel13);

        jPanel17.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        viewAllPaymentTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Payment Id", "Type", "Date", "Amount"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.Double.class
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }
        });
        jScrollPane3.setViewportView(viewAllPaymentTable1);
        viewAllPaymentTable1.getColumnModel().getColumn(0).setPreferredWidth(10);
        viewAllPaymentTable1.getColumnModel().getColumn(2).setPreferredWidth(20);
        viewAllPaymentTable1.getColumnModel().getColumn(3).setPreferredWidth(20);

        jPanel18.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        totalFeeLabel4.setText("Total fee:");

        totalFeeTextV1.setEditable(false);
        totalFeeTextV1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel19.setText("Discount:");

        discountTextV1.setEditable(false);
        discountTextV1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel20.setText("Paid Total:");

        paidTotalTextV1.setEditable(false);
        paidTotalTextV1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel21.setText("Balance To Pay:");

        balanceToPayTextV1.setEditable(false);
        balanceToPayTextV1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        javax.swing.GroupLayout jPanel18Layout = new javax.swing.GroupLayout(jPanel18);
        jPanel18.setLayout(jPanel18Layout);
        jPanel18Layout.setHorizontalGroup(
            jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel18Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(totalFeeLabel4)
                    .addComponent(jLabel19))
                .addGap(36, 36, 36)
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(totalFeeTextV1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(discountTextV1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel21)
                    .addComponent(jLabel20))
                .addGap(18, 18, 18)
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(paidTotalTextV1, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(balanceToPayTextV1, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(163, 163, 163))
        );
        jPanel18Layout.setVerticalGroup(
            jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel18Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(totalFeeLabel4)
                    .addComponent(totalFeeTextV1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(paidTotalTextV1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel20))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel18Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel19)
                    .addComponent(discountTextV1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(balanceToPayTextV1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel21))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel17Layout = new javax.swing.GroupLayout(jPanel17);
        jPanel17.setLayout(jPanel17Layout);
        jPanel17Layout.setHorizontalGroup(
            jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel17Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane3)
                    .addComponent(jPanel18, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel17Layout.setVerticalGroup(
            jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel17Layout.createSequentialGroup()
                .addGap(28, 28, 28)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 278, Short.MAX_VALUE)
                .addGap(18, 18, 18)
                .addComponent(jPanel18, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jTabbedPane2.addTab("View All Payments", jPanel17);

        jPanel19.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        editPaymentTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Payment Id", "Type", "Date", "Amount"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.Double.class
            };
            boolean[] canEdit = new boolean [] {
                false, true, true, true
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        editPaymentTable1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                editPaymentTable1KeyReleased(evt);
            }
        });
        jScrollPane4.setViewportView(editPaymentTable1);
        editPaymentTable1.getColumnModel().getColumn(0).setPreferredWidth(10);
        editPaymentTable1.getColumnModel().getColumn(2).setPreferredWidth(20);
        editPaymentTable1.getColumnModel().getColumn(3).setPreferredWidth(20);

        jPanel20.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        totalFeeLabel5.setText("Total fee:");

        totalFeeTextE1.setEditable(false);
        totalFeeTextE1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel22.setText("Discount:");

        discountTextE1.setEditable(false);
        discountTextE1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel31.setText("Paid Total:");

        paidTotalTextE1.setEditable(false);
        paidTotalTextE1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel32.setText("Balance To Pay:");

        balanceToPayTextE1.setEditable(false);
        balanceToPayTextE1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        javax.swing.GroupLayout jPanel20Layout = new javax.swing.GroupLayout(jPanel20);
        jPanel20.setLayout(jPanel20Layout);
        jPanel20Layout.setHorizontalGroup(
            jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel20Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(totalFeeLabel5)
                    .addComponent(jLabel22))
                .addGap(36, 36, 36)
                .addGroup(jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(totalFeeTextE1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(discountTextE1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel32)
                    .addComponent(jLabel31))
                .addGap(18, 18, 18)
                .addGroup(jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(paidTotalTextE1, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(balanceToPayTextE1, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(163, 163, 163))
        );
        jPanel20Layout.setVerticalGroup(
            jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel20Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(totalFeeLabel5)
                    .addComponent(totalFeeTextE1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(paidTotalTextE1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel31))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel20Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel22)
                    .addComponent(discountTextE1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(balanceToPayTextE1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel32))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel21.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.RIGHT));

        editButton1.setText("Edit");
        editButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                editButton1ActionPerformed(evt);
            }
        });
        jPanel21.add(editButton1);

        deleteButton1.setText("Delete All");
        deleteButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                deleteButton1ActionPerformed(evt);
            }
        });
        jPanel21.add(deleteButton1);

        javax.swing.GroupLayout jPanel19Layout = new javax.swing.GroupLayout(jPanel19);
        jPanel19.setLayout(jPanel19Layout);
        jPanel19Layout.setHorizontalGroup(
            jPanel19Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel19Layout.createSequentialGroup()
                .addGroup(jPanel19Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel20, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel19Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel19Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jPanel21, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jScrollPane4))))
                .addContainerGap())
        );
        jPanel19Layout.setVerticalGroup(
            jPanel19Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel19Layout.createSequentialGroup()
                .addGap(28, 28, 28)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 201, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jPanel21, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 44, Short.MAX_VALUE)
                .addComponent(jPanel20, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jTabbedPane2.addTab("Edit Payment Details", jPanel19);

        jPanel22.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.RIGHT));

        exitButton2.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        exitButton2.setText("EXIT");
        exitButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                exitButton2ActionPerformed(evt);
            }
        });
        jPanel22.add(exitButton2);

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel12, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jTabbedPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel22, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addComponent(jPanel12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jTabbedPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 441, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel22, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jInternalFrame1Layout = new javax.swing.GroupLayout(jInternalFrame1.getContentPane());
        jInternalFrame1.getContentPane().setLayout(jInternalFrame1Layout);
        jInternalFrame1Layout.setHorizontalGroup(
            jInternalFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jInternalFrame1Layout.setVerticalGroup(
            jInternalFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addGap(0, 360, Short.MAX_VALUE)
                    .addComponent(jInternalFrame1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(0, 361, Short.MAX_VALUE)))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addGap(0, 323, Short.MAX_VALUE)
                    .addComponent(jInternalFrame1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(0, 324, Short.MAX_VALUE)))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void studentIdComboActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_studentIdComboActionPerformed
        try {
            studentId = studentIdCombo.getSelectedItem().toString();
            ComboItemsAdder.addAllRegistrationsOfAStudent(ridCombo, studentId);
            registrationId = RegistrationController.searchRegistration(ridCombo.getSelectedItem().toString()).getRegistrationId();

            nameText.setText(StudentController.searchStudent(studentId).getNameWithInitials());
            viewRelevantBill();
            setDataToTable(viewAllPaymentTable, dtmView);
           
            //    ridText.setText(registrationId);
            enterViewSummary();
           
        } catch (ClassNotFoundException | SQLException ex) {
            Logger.getLogger(PaymentOfStudentCommon.class.getName()).log(Level.SEVERE, null, ex);
        }

    }//GEN-LAST:event_studentIdComboActionPerformed

    private void todayPaymentTextKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_todayPaymentTextKeyReleased
       todayPaymentText.setText(PatternsChecker.checkDecimal(todayPaymentText.getText()));
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
todayPaymentText.setText(PatternsChecker.checkPrice(todayPaymentText.getText()));

            enterPress++;
            if (enterPress == 1) {
                if ((todayPaymentText.getText() != "Completed") & (todayPaymentText.getText() != null)) {

                    if (Double.valueOf(todayPaymentText.getText()) < Double.valueOf(balanceToPayText.getText())) {
                        saveButton.setEnabled(true);
                        double paid = getPaidTotal();
                        paidTotalText.setText(Double.toString(paid + Double.valueOf(todayPaymentText.getText())));
                        balanceToPayText.setText(Double.toString(Double.valueOf(totalFeeText.getText()) - Double.valueOf(discountText.getText()) - Double.valueOf(todayPaymentText.getText()) - paid));
                    } else {
                        JOptionPane.showMessageDialog(PaymentOfStudentCommon.this, "Rs." + (Double.valueOf(todayPaymentText.getText()) - Double.valueOf(balanceToPayText.getText())) + " is given in excess!");
                        todayPaymentText.setText(balanceToPayText.getText());
                        saveButton.setEnabled(true);
                        double paid = getPaidTotal();
                        paidTotalText.setText(Double.toString(paid + Double.valueOf(todayPaymentText.getText())));
                        balanceToPayText.setText(Double.toString(Double.valueOf(totalFeeText.getText()) - Double.valueOf(discountText.getText()) - Double.valueOf(todayPaymentText.getText()) - paid));
                    }
                } else if (todayPaymentText.getText() == null) {
                    saveButton.setEnabled(true);
                }


            } else if (enterPress > 1) {
                if (todayPaymentText.getText() == null) {
                    saveButton.setEnabled(false);
                } else {
                    saveButton.setEnabled(true);
                    saveButton.doClick();
                }
            }
            if (evt.getKeyCode() != KeyEvent.VK_ENTER) {
                disPress++;
                if (disPress == 1) {
                    discountText.setText(null);
                }
            }
        }




    }//GEN-LAST:event_todayPaymentTextKeyReleased
    private double getPaidTotal() {
        try {
            Registration registration = RegistrationController.searchRegistration(ridCombo.getSelectedItem().toString());
            ArrayList<Payment> paymentSet = PaymentController.searchAllTrainingFeePayments(registrationId);
            paidTotal = Double.valueOf(0);
            for (Payment payment : paymentSet) {
                paidTotal += payment.getAmount();
            }

        } catch (ClassNotFoundException | SQLException ex) {
            Logger.getLogger(PaymentOfStudentCommon.class.getName()).log(Level.SEVERE, null, ex);
        }
        return paidTotal;
    }

    private void enterViewSummary() throws ClassNotFoundException, SQLException {
        getPaymentSummary();
        totalFeeTextV.setText(totalFee.toString());
        discountTextV.setText(discount.toString());
        paidTotalTextV.setText(paidTotal.toString());
        balanceToPayTextV.setText(balanceToPay.toString());
    }

    

    private void setTextNull() {
        todayPaymentText.setText(null);
        totalFeeText.setText(null);
        paidTotalText.setText(null);
        balanceToPayText.setText(null);
        discountText.setText(null);
        attemptFeeText.setText(null);
        attemptText.setText(null);
    }
    private void payComboItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_payComboItemStateChanged
        viewRelevantBill();
    }//GEN-LAST:event_payComboItemStateChanged

    private void saveButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveButtonActionPerformed
        Payment payment = null;
        try {
            Registration registration = RegistrationController.searchRegistration(ridCombo.getSelectedItem().toString());
            if (payCombo.getSelectedItem().toString() == "Training Fee") {
                payment = new Payment(payIdText.getText(), registrationId, payCombo.getSelectedItem().toString(), dateText.getText(), Double.valueOf(todayPaymentText.getText()), 1);

            } else {
                if (attemptFeeText.getText() != null) {
                    payment = new Payment(payIdText.getText(), registrationId, payCombo.getSelectedItem().toString(), dateText.getText(), Double.valueOf(attemptFeeText.getText()), Integer.valueOf(attemptText.getText()));
                }
            }
            int result = PaymentController.addPayment(payment);
            if (result > 0) {
                paidTotal = getPaidTotal();
                if (registration.getTotalFee() == Double.valueOf(paidTotal)) {
                    JOptionPane.showMessageDialog(PaymentOfStudentCommon.this, "Your Training fee is Complete!");
                }
                JOptionPane.showMessageDialog(PaymentOfStudentCommon.this, "Payment done!");
                if (payCombo.getSelectedItem().toString() == "Training Fee") {

                    try {
                        InputStream inputStream = getClass().getResourceAsStream("/dsms/reports/payment_bills/paymentBillReport.jrxml");
                        HashMap map = new HashMap();
                        map.put("registration_id", ridCombo.getSelectedItem().toString());
                        map.put("payment_id", payIdText.getText());
                        map.put("name", nameText.getText());
                        map.put("total_fee", totalFeeText.getText());
                        map.put("discount", discountText.getText());
                        map.put("today_payment", todayPaymentText.getText());
                        map.put("paid_total", paidTotalText.getText());
                        map.put("balance_to_pay", balanceToPayText.getText());
                        JasperViewer jv = ReportConnector.sendHashMap(inputStream, map);
                        ReportConnector.viewInDialog(jv);
                    } catch (ClassNotFoundException | SQLException | JRException ex) {
                        Logger.getLogger(StudentRegistration.class.getName()).log(Level.SEVERE, null, ex);
                    }
                } else {
                    if (attemptFeeText.getText() != null) {
                        try {
                            InputStream inputStream = getClass().getResourceAsStream("/dsms/reports/laterAttemptBillReport.jrxml");
                            HashMap map = new HashMap();
                            map.put("registration_id", ridCombo.getSelectedItem().toString());
                            map.put("payment_id", payIdText.getText());
                            map.put("name", nameText.getText());
                            map.put("title", payCombo.getSelectedItem().toString());
                            map.put("attempt", attemptText.getText());
                            map.put("amount", attemptFeeText.getText());

                            JasperViewer jv = ReportConnector.sendHashMap(inputStream, map);
                            ReportConnector.viewInDialog(jv);
                        } catch (ClassNotFoundException | SQLException | JRException ex) {
                            Logger.getLogger(StudentRegistration.class.getName()).log(Level.SEVERE, null, ex);
                        }
                    }
                }
            } else {
                JOptionPane.showMessageDialog(PaymentOfStudentCommon.this, "Failed!");
            }
            setDataToTable(viewAllPaymentTable, dtmView);
          
            enterViewSummary();
       
        } catch (ClassNotFoundException | SQLException ex) {
            Logger.getLogger(PaymentOfStudentCommon.class.getName()).log(Level.SEVERE, null, ex);
        }
        setTextNull();
        viewRelevantBill();
        CodeGenerateController.getNextID(payIdText, "P", "paymentId", "Payment");

        saveButton.setEnabled(false);
        enterPress = 0;
    }//GEN-LAST:event_saveButtonActionPerformed
    private void getPaymentSummary() throws ClassNotFoundException, SQLException {
        Registration registration = RegistrationController.searchRegistration(ridCombo.getSelectedItem().toString());
        if (registration != null) {
            totalFee = (Double.valueOf(registration.getTotalFee()));
            discount = (Double.valueOf(registration.getDiscount()));
            paidTotal = (Double.valueOf(getPaidTotal()));
            balanceToPay = (Double.valueOf(registration.getTotalFee() - registration.getDiscount() - paidTotal));
        }
    }

    private void viewRelevantBill() {
        try {
            switch (payCombo.getSelectedItem().toString()) {
                case "Training Fee":

                    otherFeePanel.setVisible(false);
                    feePanel.setVisible(true);
                    todayPaymentText.requestFocus();
                    messagePanel.setVisible(false);
                    todayPaymentText.setEditable(true);
                    todayPaymentText.setText(null);

                    getPaymentSummary();
                    totalFeeText.setText(totalFee.toString());
                    discountText.setText(discount.toString());
                    paidTotalText.setText(paidTotal.toString());
                    balanceToPayText.setText(balanceToPay.toString());

                    saveButton.setEnabled(false);

                    if (Double.valueOf(balanceToPayText.getText()) == 0) {
                        todayPaymentText.setText("Completed");
                        todayPaymentText.setEditable(false);
                        saveButton.setEnabled(false);
                    }
                    break;
                case "Exam Fee later attempt":

                    ExamDetail examDetail = ExamDetailController.searchLastExamResult(registrationId);

                    if (examDetail != null) {
                        otherFeePanel.setVisible(true);
                        feePanel.setVisible(false);
                        messagePanel.setVisible(false);
                        if (examDetail.getResult() == 1) {
                            messagePanel.setVisible(true);
                            messageLabel.setText("You've already passed the exam");
                            otherFeePanel.setVisible(false);
                            saveButton.setEnabled(false);
                        } else if (examDetail.getResult() == 0) {
                            if (examDetail.getAttempt() == 1) {
                                payCombo.setSelectedItem("Training Fee");
                            } else if (examDetail.getAttempt() > 1 & examDetail.getAttempt() < 4) {
                                boolean res = PaymentController.isExamFeeDone(examDetail);
                                if (res == false) {
                                    attemptText.setText(Integer.toString(examDetail.getAttempt()));
                                    Registration registration = RegistrationController.searchRegistration(examDetail.getRegistrationId());
                                    VehicleClassSet vcs = VehicleClassController.searchVehicleClassSet(registration.getClassId());
                                    attemptFeeText.setText(Double.toString(vcs.getExamFee()));
                                } else {
                                    feePanel.setVisible(false);
                                    messagePanel.setVisible(true);
                                    messageLabel.setText("You've already paid for exam");
                                    otherFeePanel.setVisible(false);
                                    saveButton.setEnabled(false);
                                }
                            } else {
                                feePanel.setVisible(false);
                                messagePanel.setVisible(true);
                                messageLabel.setText("You've failed 4 times.Make a new registration!");
                                otherFeePanel.setVisible(false);
                                saveButton.setEnabled(false);
                            }
                        } else if (examDetail.getResult() == -1) {
                            if (examDetail.getAttempt() >= 1 & examDetail.getAttempt() <= 2) {
                                boolean res = PaymentController.isExamFeeDone(examDetail);
                                if (res == false) {
                                    attemptText.setText(Integer.toString(examDetail.getAttempt() + 1));
                                } else {
                                    feePanel.setVisible(false);
                                    messagePanel.setVisible(true);
                                    messageLabel.setText("You've already paid for exam");
                                    otherFeePanel.setVisible(false);
                                    saveButton.setEnabled(false);
                                }
                            } else {
                                feePanel.setVisible(false);
                                messagePanel.setVisible(true);
                                messageLabel.setText("You've failed 4 times.Make a new registration!");
                                otherFeePanel.setVisible(false);
                                saveButton.setEnabled(false);
                            }
                        }
                        Registration registration1 = RegistrationController.searchRegistration(ridCombo.getSelectedItem().toString());
                        Double examFee = VehicleClassController.searchVehicleClassSet(registration1.getClassId()).getTrialFee();
                        attemptFeeText.setText(examFee.toString());
                        // saveButton.setEnabled(true);

                    } else {
                        payCombo.setSelectedItem("Training Fee");
                    }
                    break;
                case "Trial Fee later attempt":

                    TrialDetail trialDetail = TrialDetailController.searchLastTrialResult(registrationId);
                    if (trialDetail != null) {
                        otherFeePanel.setVisible(true);
                        feePanel.setVisible(false);
                        messagePanel.setVisible(false);
                        if (trialDetail.getResult() == 1) {
                            feePanel.setVisible(false);
                            messagePanel.setVisible(true);
                            messageLabel.setText("You've already passed the trial");
                            otherFeePanel.setVisible(false);
                            saveButton.setEnabled(false);
                        } else if (trialDetail.getResult() == 0) {
                            if (trialDetail.getAttempt() == 1) {
                                payCombo.setSelectedItem("Training Fee");
                            } else if (trialDetail.getAttempt() > 1 & trialDetail.getAttempt() < 4) {
                                boolean res = PaymentController.isTrialFeeDone(trialDetail);
                                if (res == false) {
                                    attemptText.setText(Integer.toString(trialDetail.getAttempt()));

                                    Registration registration = RegistrationController.searchRegistration(trialDetail.getRegistrationId());
                                    VehicleClassSet vcs = VehicleClassController.searchVehicleClassSet(registration.getClassId());
                                    attemptFeeText.setText(Double.toString(vcs.getTrialFee()));

                                } else {
                                    feePanel.setVisible(false);
                                    messagePanel.setVisible(true);
                                    messageLabel.setText("You've already paid for trial");
                                    otherFeePanel.setVisible(false);
                                    saveButton.setEnabled(false);
                                }
                            } else {
                                feePanel.setVisible(false);
                                messagePanel.setVisible(true);
                                messageLabel.setText("You've failed 3 times.Make a new registration!");
                                otherFeePanel.setVisible(false);
                                saveButton.setEnabled(false);

                            }
                        } else if (trialDetail.getResult() == -1) {
                            if (trialDetail.getAttempt() >= 1 & trialDetail.getAttempt() <= 2) {
                                boolean res = PaymentController.isTrialFeeDone(trialDetail);
                                if (res == false) {
                                    attemptText.setText(Integer.toString(trialDetail.getAttempt() + 1));
                                } else {
                                    feePanel.setVisible(false);
                                    messagePanel.setVisible(true);
                                    messageLabel.setText("You've already paid for trial");
                                    otherFeePanel.setVisible(false);
                                    saveButton.setEnabled(false);
                                }
                            } else {
                                feePanel.setVisible(false);
                                messagePanel.setVisible(true);
                                messageLabel.setText("You've failed 3 times.Make a new registration!");
                                otherFeePanel.setVisible(false);
                                saveButton.setEnabled(false);
                            }
                        }
                        Registration registration1 = RegistrationController.searchRegistration(ridCombo.getSelectedItem().toString());
                        Double trialFee = VehicleClassController.searchVehicleClassSet(registration1.getClassId()).getTrialFee();
                        attemptFeeText.setText(trialFee.toString());
                        //  saveButton.setEnabled(true);

                    } else {
                        payCombo.setSelectedItem("Training Fee");
                    }
                    break;
            }
        } catch (ClassNotFoundException | SQLException ex) {
            Logger.getLogger(PaymentOfStudentCommon.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    private void setDataToTable(JTable tbl, DefaultTableModel dtm) {

        try {
            ArrayList<Payment> paymentList = PaymentController.searchAllPaymentsOfAStudent(studentId);
            dtm = (DefaultTableModel) tbl.getModel();
            dtm.setRowCount(0);
            for (Payment payment : paymentList) {
                dtm.addRow(new Object[]{payment.getPaymentId(), payment.getType(), payment.getDate(), payment.getAmount()});
            }
        } catch (ClassNotFoundException | SQLException ex) {
            Logger.getLogger(PaymentOfStudentCommon.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
    private void exitButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_exitButton1ActionPerformed
        this.dispose();
    }//GEN-LAST:event_exitButton1ActionPerformed

    private void studentIdCombo1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_studentIdCombo1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_studentIdCombo1ActionPerformed

    private void payCombo1ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_payCombo1ItemStateChanged
        // TODO add your handling code here:
    }//GEN-LAST:event_payCombo1ItemStateChanged

    private void payCombo1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_payCombo1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_payCombo1ActionPerformed

    private void todayPaymentText1KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_todayPaymentText1KeyReleased
        // TODO add your handling code here:
    }//GEN-LAST:event_todayPaymentText1KeyReleased

    private void saveButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveButton1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_saveButton1ActionPerformed

    private void editPaymentTable1KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_editPaymentTable1KeyReleased
        // TODO add your handling code here:
    }//GEN-LAST:event_editPaymentTable1KeyReleased

    private void editButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_editButton1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_editButton1ActionPerformed

    private void deleteButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_deleteButton1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_deleteButton1ActionPerformed

    private void exitButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_exitButton2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_exitButton2ActionPerformed

    private void payComboActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_payComboActionPerformed
        viewRelevantBill();
    }//GEN-LAST:event_payComboActionPerformed

    private void printButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_printButtonActionPerformed
        try {
            InputStream inputStream = getClass().getResourceAsStream("/dsms/reports/payment_reports/studentPaymentReport.jrxml");
            dtmView = (DefaultTableModel) viewAllPaymentTable.getModel();
            HashMap map = new HashMap();
            map.put("student_id", studentIdCombo.getSelectedItem().toString());
            map.put("registration_id", ridCombo.getSelectedItem().toString());
            map.put("name", nameText.getText());
            map.put("total_fee", Double.valueOf(totalFeeTextV.getText()));
            map.put("paid_total", Double.valueOf(paidTotalTextV.getText()));
            map.put("discount", Double.valueOf(discountTextV.getText()));
            map.put("balance_to_pay", Double.valueOf(balanceToPayTextV.getText()));
            JasperViewer jv = ReportConnector.sendTable(inputStream, map, dtmView);
            ReportConnector.viewInDialog(jv);
        } catch (ClassNotFoundException | SQLException | JRException ex) {
            Logger.getLogger(RegistrationBasedReportDialog.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_printButtonActionPerformed

    private void ridComboActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ridComboActionPerformed
        try {
            studentId = studentIdCombo.getSelectedItem().toString();
            //      ComboItemsAdder.addAllRegistrationsOfAStudent(ridCombo, studentId);
            Registration registration;
            if (ridCombo.getSelectedItem() == null) {
                ComboItemsAdder.addAllRegistrationsOfAStudent(ridCombo, studentId);
                registration = RegistrationController.searchRegistration(ridCombo.getSelectedItem().toString());
            } else {
                registration = RegistrationController.searchRegistration(ridCombo.getSelectedItem().toString());
            }

            nameText.setText(StudentController.searchStudent(studentId).getNameWithInitials());
            viewRelevantBill();
            setDataToTable(viewAllPaymentTable, dtmView);
            
            //    ridText.setText(registrationId);
            enterViewSummary();
            
        } catch (ClassNotFoundException | SQLException ex) {
            Logger.getLogger(PaymentOfStudentCommon.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_ridComboActionPerformed
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextField attemptFeeText;
    private javax.swing.JTextField attemptFeeText1;
    private javax.swing.JTextField attemptText;
    private javax.swing.JTextField attemptText1;
    private javax.swing.JTextField balanceToPayText;
    private javax.swing.JTextField balanceToPayText1;
    private javax.swing.JTextField balanceToPayTextE1;
    private javax.swing.JTextField balanceToPayTextV;
    private javax.swing.JTextField balanceToPayTextV1;
    private javax.swing.JLabel dateLabel;
    private javax.swing.JLabel dateLabel1;
    private javax.swing.JTextField dateText;
    private javax.swing.JTextField dateText1;
    private javax.swing.JButton deleteButton1;
    private javax.swing.JTextField discountText;
    private javax.swing.JTextField discountText1;
    private javax.swing.JTextField discountTextE1;
    private javax.swing.JTextField discountTextV;
    private javax.swing.JTextField discountTextV1;
    private javax.swing.JButton editButton1;
    private javax.swing.JTable editPaymentTable1;
    private javax.swing.JButton exitButton1;
    private javax.swing.JButton exitButton2;
    private javax.swing.JPanel feePanel;
    private javax.swing.JPanel feePanel1;
    private javax.swing.JLabel idLabel;
    private javax.swing.JLabel idLabel1;
    private javax.swing.JInternalFrame jInternalFrame1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel13;
    private javax.swing.JPanel jPanel14;
    private javax.swing.JPanel jPanel15;
    private javax.swing.JPanel jPanel16;
    private javax.swing.JPanel jPanel17;
    private javax.swing.JPanel jPanel18;
    private javax.swing.JPanel jPanel19;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel20;
    private javax.swing.JPanel jPanel21;
    private javax.swing.JPanel jPanel22;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTabbedPane jTabbedPane2;
    private javax.swing.JLabel messageLabel;
    private javax.swing.JPanel messagePanel;
    private javax.swing.JPanel messagePanel1;
    private javax.swing.JTextField nameText;
    private javax.swing.JTextField nameText1;
    private javax.swing.JPanel otherFeePanel;
    private javax.swing.JPanel otherFeePanel1;
    private javax.swing.JTextField paidTotalText;
    private javax.swing.JTextField paidTotalText1;
    private javax.swing.JTextField paidTotalTextE1;
    private javax.swing.JTextField paidTotalTextV;
    private javax.swing.JTextField paidTotalTextV1;
    private javax.swing.JComboBox payCombo;
    private javax.swing.JComboBox payCombo1;
    private javax.swing.JLabel payIdLabel;
    private javax.swing.JLabel payIdLabel1;
    private javax.swing.JTextField payIdText;
    private javax.swing.JTextField payIdText1;
    private javax.swing.JButton printButton;
    private javax.swing.JComboBox ridCombo;
    private javax.swing.JButton saveButton;
    private javax.swing.JButton saveButton1;
    private javax.swing.JComboBox studentIdCombo;
    private javax.swing.JComboBox studentIdCombo1;
    private javax.swing.JTextField todayPaymentText;
    private javax.swing.JTextField todayPaymentText1;
    private javax.swing.JLabel totalFeeLabel;
    private javax.swing.JLabel totalFeeLabel1;
    private javax.swing.JLabel totalFeeLabel2;
    private javax.swing.JLabel totalFeeLabel4;
    private javax.swing.JLabel totalFeeLabel5;
    private javax.swing.JTextField totalFeeText;
    private javax.swing.JTextField totalFeeText1;
    private javax.swing.JTextField totalFeeTextE1;
    private javax.swing.JTextField totalFeeTextV;
    private javax.swing.JTextField totalFeeTextV1;
    private javax.swing.JTable viewAllPaymentTable;
    private javax.swing.JTable viewAllPaymentTable1;
    // End of variables declaration//GEN-END:variables
}
